<div class="todo-list">
  <div class="filter-dropdown">
    <label for="filter">Filter Tasks:</label>
    <select id="filter" [(ngModel)]="selectedFilter" (change)="filterTasks()">
      <option value="today">Today</option>
      <option value="week">Pending Tasks of this week</option>
      <option value="month">Pending Tasks of this month</option>
      <option value="all">All tasks</option>
    </select>
  </div>



<div class="todo-list">
  <input #newTodo type="text" placeholder="Add a new task" [(ngModel)]="newItem">
  <div class="form-group">
    <div>Due Date: <input type="date" [(ngModel)]="newDueDate" (change)="formatDueDate()"></div>
    <div class="priority-select">
      Priority:
      <select [(ngModel)]="newPriority">
        <option value="low">Low</option>
        <option value="medium">Medium</option>
        <option value="high">High</option>
      </select>
    </div>
  </div> 
  
  <button class="addbutton" (click)="addTodoItem()">Add</button>
  <div *ngFor="let item of filteredItems" class="todo-item">
    <input type="checkbox" [checked]="item.completed" (change)="toggleTodoItemCompletion(item)">
    <span [class.completed]="item.completed">{{ item.title }}</span>
    <span class="creation-date">Created: {{ item.creationDate | date: 'shortDate' }}</span>
    <span class="due-date">Due: {{ item.dueDate | date: 'shortDate' }}</span>
    <span class="last-updated">Updated: {{ item.lastUpdatedDate | date: 'shortDate' }}</span>
    <!-- <button class="edit-button" (click)="editTodoItem(item)">{{ item.editing ? 'Edit ' : 'Save' }}</button> -->

    <button class="edit-button" (click)="editTodoItem(item)">
      <i [class]="item.editing ? 'fas fa-save' : 'fas fa-edit'"></i>
    </button>
    <!-- <button class="edit-button" (click)="editTodoItem(item)">
      <i [class]="item.editing ? 'fas fa-edit' : 'fas fa-save'"></i>
    </button> -->
  
    <button class="delete-button" (click)="deleteTodoItem(item.id)">
      <i class="fas fa-trash-alt"></i>
    </button>
  
    <button class="clone-button" (click)="cloneTodoItem(item)">
      <i class="fas fa-clone"></i>
    </button>

  </div>


 <!-- dashboard.component.html -->
<div class="dashboard">
  <h1>Task Analysis</h1>
  <div class="stats">
    <div class="stat">
      <h3>Total Tasks</h3>
      <p>{{ totalTasks }}</p>
    </div>
    <div class="stat">
      <h3>Completed Tasks</h3>
      <p>{{ completedTasks }}</p>
    </div>
    <div class="stat">
      <h3>Pending Tasks</h3>
      <p>{{ pendingTasks }}</p>
    </div>
  </div>
</div>
